function alertDiv(e,t){let n=document.createElement("template"),o=`\n    <div class="alert ${t}">\n        ${e}\n        <button type="button" \n                class="close" \n                data-dismiss="alert"\n                aria-label="Close">\n            <span aria-hidden="true">&times;</span>\n        </button>\n    </div>\n    `;return o=o.trim(),n.innerHTML=o,n.content.firstChild}async function castVote(e){let t={question_id:e.question_id.value,direction:e.direction.value};fetch(e.action,{method:"post",headers:{"Content-Type":"application/json","X-CSRFToken":e.csrfmiddlewaretoken.value,Accept:"application/json","X-Requested-With":"XMLHttpRequest"},body:JSON.stringify(t)}).then(e=>e.json()).then(t=>{t.error&&e.parent.insertBefore(alertDiv(t.error,"alert-danger"))})}const voteForms=document.getElementsByClassName("vote-form");for(let e of voteForms)e.addEventListener("submit",function(t){t.preventDefault(),castVote(e)});